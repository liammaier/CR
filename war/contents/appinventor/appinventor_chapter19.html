<!DOCTYPE html>
<html lang="en-US">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


  <head>
  	<title> App Inventor Chapter 19 </title>

  </head>

  <body>
  	<div id="appinventor19" class="appinventor container"> 
  		<div class="page">
	  			<div class="chapter_head">
					CHAPTER 19
				</div>
				<div class="chapter_name">
					<h2> Programming Lists of Data </h2>
				</div>
	  		<section id="introduction" class="section" data-number="0" data-name="Introduction">
		  		<div class="chapter_description chapter_18"> 
		  				<figure class="floatright">
			  				<img id="figure_19_0" height="300px" src="/contents/appinventor/images/figure_19_0.png">
			  			</figure>
		  				<p>
		  					<span class="first_sentence">As you’ve already seen, apps handle events and make decisions; such processing is fundamen- tal to computing.</span>But the other fundamental part of an app is its data—the information it processes. An app’s data is rarely restricted to single memory slots such as the score of a game. More often, it consists of complex, inter- related items that must be organized just as carefully as the app’s functionality.
		  				</p>
		  				<p>
		  					In this chapter, we’ll examine the way App Inventor handles data. You’ll learn the fun- damentals of programming both static lists (in which the data doesn’t change) and dynamic lists (in which the data is user-generated). Then you’ll learn how to deal with even more complex data involving lists whose items are also lists.
		  				</p>
			  	</div> <!-- chapter description -->		
			 		<p>
			 			Many apps process lists of data. For example, Facebook processes your list of friends. A quiz app works with a list of questions and answers. A game might have a list of characters or all-time high scores.
			 		</p>
			 		<p>
			 			List variables work like text and number variables you’ve worked with, but instead of the variable representing a single named memory cell, it represents a related set of memory cells. Consider, for example, the list of phone numbers in Table 19-1.
			 		</p>
			 		<figcaption>Table 19-1. A list variable represents a set of memory cells</figcaption>
			 		<table class="noborderstyle" width="300px">
			 			<tbody>
			 				<tr>
			 					<td>111–2222</td>
			 				</tr>
			 				<tr>
			 					<td>333–4444</td>
			 				</tr>
			 				<tr>
			 					<td>555–6666</td>
			 				</tr>
			 			</tbody>
			 		</table>
			 		<p>
			 			The elements of a list are accessed using an <span class="new_term">index</span>. An index is a position in a list, so index 1 of the list in Table 19-1 refers to 111–2222, index 2 refers to 333–4444, and index 3 refers to 555–6666.
			 		</p>
			 		<p>
			 			App Inventor provides blocks for creating lists, adding elements to lists, selecting a particular item from a list, and applying operations to an entire list. Let’s start with how we create a list.
			 		</p>
			  	<div class="pagebreak">
			  		<span class="pageNumber"> 268 </span> Chapter 19: Programming Lists of Data
			  	</div>
	  		</section> <!-- introduction dn1 -->
	  		<section class="section" data-number="1" data-name="Creating a List Variable">
				<p>
					<span class="first_sentence">You create a list variable in the Blocks Editor using a <span class="program_block">def variable</span> block and a <span class="program_block">make a list </span>block.</span> For example, suppose you were writing an app to text a list of phone numbers with one click. You create the phone numbers list in the following manner:
				</p>
				<ol>
					<li>
						From the Built-In Palette, drag a <span class="program_block">def variable</span> block (Figure 19-1) into the program area.
						<figure class="centered">
							<img src="/contents/appinventor/images/figure_19_1.png">
							<figcaption>
								Figure 19-1. A def variable block
							</figcaption>
						</figure>
					</li>
					<li>
						Click the text “variable” and change the name to “phoneNumbers”, as shown in Figure 19-2.
						<figure class="centered">
							<img src="/contents/appinventor/images/figure_19_2.png">
							<figcaption>
								Figure 19-2. Renaming the variable to phoneNumbers
							</figcaption>
						</figure>
					</li>
					<li>
						From the Lists palette, drag out a <span class="program_block">make a list</span> block and plug it into the definition block, as shown in Figure 19-3. This tells App Inventor that the variable will store a list of data as opposed to a single value.
						<figure class="centered">
							<img src="/contents/appinventor/images/figure_19_3.png">
							<figcaption>
								Figure 19-3. Defining phoneNumbers as a list using the make a list block
							</figcaption>
						</figure>
					</li>
					<li>
						Finally, drag in some <span class="program_block">text</span> blocks, enter the desired phone numbers, and plug them into the “item” slots in the <span class="program_block">make a list</span> block. Note that a new “item” slot opens up at the bottom of <span class="program_block">make a list</span> each time you add a new element to the list, as shown in Figure 19-4.
						<figure class="centered">
							<img src="/contents/appinventor/images/figure_19_4.png">
							<figcaption>
								Figure 19-4. As each item is added to the list, a new slot opens up
							</figcaption>
						</figure>
					</li>
				</ol>
				<div class="pagebreak">
			  		<span class="pageNumber"> 269 </span> Selecting an Item in a List
			  	</div>
			  	<p>
			  		You can plug any type of data into an “item” slot, but in this case, the items should be text objects, not numbers, because phone numbers have dashes and other format- ting symbols that you can’t put in a number object, and you won’t be performing any calculations on the numbers (in which case, you would want number objects instead).
			  	</p>
			  	<p>
			  		The blocks in Figure 19-4 define a variable named <span class="code">phoneNumbers</span>. Any variables you define are created when the app launches, so memory slots like the ones in Table 19-1 will be created and filled when the app starts. Once you have a variable list, it’s time to start working with the data in that list.
			  	</p>
			</section> <!-- Testing Conditions with if and ifelse Blocks dn2 -->
			<section class="section" data-number="2" data-name="Selecting an Item in a List">
				<h3>Selecting an Item in a List</h3>
				<p>
					<span class="first_sentence">Your app can access particular items of a list with the <span class="program_block">select list item</span> block and by specifying an <span class="new_term">index</span> in the list.</span> The index indicates the position of an item within a list. So, if a list has three items, you can access the items with indices 1, 2, and 3. Figure 19-5 shows the blocks that select the second item of a list.
				</p>
				<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_5.png">
					<figcaption>
						Figure 19-5. Selecting the second item of a list
					</figcaption>
				</figure>
				<p>
					With <span class="program_block">select list item</span>, you plug in the list you want in the first slot, and the index you want in the second slot. The blocks in Figure 19-5 tell the app to select the second element of the list <span class="code">phoneNumbers</span>. If you were selecting from the <span class="code">phoneNumbers</span> list defined in Table 19-1, the result would be “333–4444.”
				</p>
				<p>
					Selecting an item in a list is just the first step—once you’ve selected the item, you can do a variety of things with it. We’ll look at some examples next.
				</p>
			</section> <!-- Selecting an Item in a List dn3 -->
			<section class="section" data-number="3" data-name="Using an Index to Traverse a List">
				<h3>Using an Index to Traverse a List</h3>
				<p>
					<span class="first_sentence">In many apps, you’ll define a list of data and then allow the user to step through (or <span class="new_term">traverse</span>) it.</span> The Presidents Quiz in Chapter 8 provides a good example of this: in that app, when the user clicks a Next button, the next item is selected from a list of ques- tions and displayed.
				</p>
				<p>
					But how do you select the next item in a list? Our example in Figure 19-5 selected item 2 from <span class="code">phoneNumbers</span>. When you traverse a list, the item number you’re select- ing changes each time; it’s relative to your current position in the list. Therefore, you need to define a variable to represent that current position. index is the common name for such a variable, and it is usually initialized to 1 (the first position in the list), as shown in Figure 19-6.
				</p>
				<div class="pagebreak">
			  		<span class="pageNumber"> 270 </span> Chapter 19: Programming Lists of Data
			  	</div>
			  	<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_6.png">
					<figcaption>
						Figure 19-6. Initializing the variable index to 1
					</figcaption>
				</figure>
				<p>
					When the user does something to move to the next item, you <span class="new_term">increment</span> the index variable by adding a value of 1 to it, and then select from the list using that incre- mented value. Figure 19-7 shows the blocks for doing this.
				</p>
				<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_7.png">
					<figcaption>
						Figure 19-7. Incrementing the index value and using the incremented value to select the next list item
					</figcaption>
				</figure>
				<section class="subsection" data-number="4" data-name="Example: Traversing a List of Paint Colors">
					<h4>Example: Traversing a List of Paint Colors</h4>
					<p>
						<span class="first_sentence">Let’s look at an example app that lets the user peruse each potential paint color for his house by clicking a button.</span> Each time he clicks, the button’s color changes. When the user makes it through all of the possible colors, the app takes him back to the first one.
					</p>
					<p>
						For this example, we’ll use some basic colors. However, you could customize the code blocks to iterate through any set of colors. For more information on colors, see the App Inventor documentation at <span class="url">http://appinventor.googlelabs.com/learn/reference/ blocks/colors.html</span>.
					</p>
					<p>
						Our first step is to define a list variable for the colors list and initialize it with some paint colors as items, as depicted in Figure 19-8.
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_8.png">
						<figcaption>
							Figure 19-8. Initializing the list colors with a list of paint colors
						</figcaption>
					</figure>
					<p>
						Next, define an index variable that tracks the current position in the list. It should start at 1. You could give the variable a descriptive name like <span class="code">currentColorIndex</span>, but if you aren’t dealing with multiple indexes in your app, you can just name it index, as shown in Figure 19-9.
					</p>
					<div class="pagebreak">
			  			<span class="pageNumber"> 271 </span> Using an Index to Traverse a List
			  		</div>
			  		<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_9.png">
						<figcaption>
							Figure 19-9. Using the index variable, which is initialized to 1, to track the current position in a list
						</figcaption>
					</figure>
					<p>
						The user traverses to the next item (color) in the list by clicking the <span class="code">ColorButton</span>. When he clicks, the index should be incremented and the <span class="code">BackgroundColor</span> of the button should change to the currently selected item, as shown in Figure 19-10.
					</p>
					<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_10.png">
						<figcaption>
							Figure 19-10. Letting the user traverse the color list by clicking a button—changing the button color with each click
						</figcaption>
					</figure>
					<p>
						Let’s assume the button’s background is initially set to Red in the Component Designer. The first time the button is clicked, <span class="code">index</span> will change from its initial value of 1 to 2, and the button’s background color will change to the second item in the list, Green. The second time the user clicks, the <span class="code">index</span> will change from 2 to 3, and the background color will switch to Blue.
					</p>
					<p>
						But what do you think will happen on the next click?
					</p>
					<p>
						If you said there would be an error, you’re right! <span class="code">index</span> will become 4 and the app will try to select the fourth item in the list, but the list only has three items. The app will <span close="new_term">force close</span>, or quit, and the user will see an error message like the one in Figure 19-11.
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_11.png">
						<figcaption>
							Figure 19-11. The error message displayed when the app tries to select the fourth item from a three- item list
						</figcaption>
					</figure>
					<div class="pagebreak">
			  			<span class="pageNumber"> 272 </span> Chapter 19: Programming Lists of Data
			  		</div>
			  		<p>
			  			Obviously, that message is not something you want your app’s users to see. To avoid that problem, add an <span class="program_block">if</span> block to check whether the last color in the list has been reached. If it has, the <span class="code">index</span> can be changed back to 1 so that the first color is again displayed, as shown in Figure 19-12.
			  		</p>
			  		<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_12.png">
						<figcaption>
							Figure 19-12. Using the if test to check for whether the index value is larger than the length of the list, and reset it to 1 if the test returns true
						</figcaption>
					</figure>
					<p>
						When the user clicks the button, the index is incremented and then checked to see if its value is too large. The index is compared to <span class="program_block">length of list</span>, not 3, so your app will work even if you add items to the list. By checking if the index is greater than your list length (versus checking if it is greater than the specific number 3), you’ve elimi- nated a <span class="new_term">code dependency</span> in your app. A code dependency is a programming term for instances when you program aspects of your app too specifically, such that if you change something in one place (e.g., the items in your list), you’ll have to hunt down all the places in your app where you use that list and change those blocks as well.
					</p>
					<p>
						As you can imagine, these kinds of dependencies could get messy very quickly, and they generally lead to many more bugs for you to chase down as well. In fact, the design for our House Paint Color app contains another code dependency as we currently have it programmed—can you figure out what it is?
					</p>
					<p>
						If you changed the first color in your list from Red to some other color, the app won’t work correctly unless you also remembered to change the initial <span class="code">Button .BackgroundColor</span> you set in the Component Designer. The way to eliminate this code dependency is to set the initial <span class="program_block">ColorButton.BackgroundColor</span> to the first color in the list rather than to a specific color. Since this change involves behavior that happens when your app first opens, you do this in the <span class="program_block">Screen.Initialize</span> event handler that is invoked when an app is launched, as illustrated in Figure 19-13.
					</p>
					<div class="pagebreak">
			  			<span class="pageNumber"> 273 </span> Creating Input Forms and Dynamic Lists
			  		</div>
			  		<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_13.png">
						<figcaption>
							Figure 19-13. Setting the BackgroundColor of the button to the first color in the list when the app is launched
						</figcaption>
					</figure>
				</section> <!-- Example: Traversing a List of Paint Colors dn5 -->
			</section> <!-- Using an Index to Traverse a List dn4 -->
			<section class="section" data-number="5" data-name="Creating Input Forms and Dynamic Lists">
				<h3>Creating Input Forms and Dynamic Lists</h3>
				<p>
					<span class="first_sentence">The previous House Paint Color app involved a <span class="new_term">static</span> list: one whose elements are defined by the programmer (you) and whose items don’t change unless you change the blocks themselves.</span> More often, however, apps deal with <span class="new_term">dynamic</span> lists: lists that change based on the end user entering new items, or new items being loaded in from a database or web information source. In this section, we’ll discuss an example Note Taker app, one in which the user enters notes in a form and can view all of her previous notes.
				</p>
				<section class="subsection" data-number="6" data-name="Defining a Dynamic List">
					<h4>Defining a Dynamic List</h4>
					<p>
						Just as with a static list, you define a dynamic list with the <span class="program_block">make a list</span> block. But with a dynamic list, you don’t add any predefined items in the list definition. For example, consider a Note Taker app. You would define the dynamic list of notes with the defini- tion in Figure 19-14.
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_14.png">
						<figcaption>
							Figure 19-14. The blocks to define a dynamic list don’t contain any predefined items
						</figcaption>
					</figure>
				</section> <!-- Defining a Dynamic List dn7 -->
				<section class="subsection" data-number="7" data-name="Adding an Item">
					<h4>Adding an Item</h4>
					<p>
						<span class="first_sentence">The first time someone launches the app, the <span class="code">notes</span> list is empty. But when the user enters some data in a form and clicks Submit, new notes will be added to the list. </span>The form might be as simple as the one shown in Figure 19-15.
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_15.png">
						<figcaption>
							Figure 19-15. Using a form to add new items to the notes list
						</figcaption>
					</figure>
					<div class="pagebreak">
			  			<span class="pageNumber"> 274 </span> Chapter 19: Programming Lists of Data
			  		</div>
			  		<p>
			  			When the user enters a note and clicks the Submit button, the app calls the <span class="program_block">add items to list</span> function to add the newly entered item to the list, as shown in Figure 19-16.
			  		</p>
			  		<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_16.png">
						<figcaption>
							Figure 19-16. Calling add items to list to add the new note when the user clicks the SubmitButton
						</figcaption>
					</figure>
					<p>
						The <span class="program_block">add item to list</span> block appends the item to the end of the list. Each time the user clicks the <span class="code">SubmitButton</span>, a new note is added.
					</p>
					<p>
						You’ll find the <span class="program_block">add item to list</span> block in the List drawer. Be careful: there is also an <span class="program_block">append to list</span> block, but that one is a fairly rare block for appending one list to another.
					</p>
				</section> <!-- Adding an Item dn8 -->
				<section class="subsection" data-number="8" data-name="Displaying a List">
					<h4>Displaying a List</h4>
					<p>
						<span class="first_sentence">The contents of list variables like <span class="code">notes</span> are not visible to the user; you’ll recall that a variable is a way for the app to remember information that is not necessarily shown to the user. </span>The blocks in Figure 19-16 will add items to the list on each <span class="code">button click</span> submit, but the user will not see any feedback that it is happening until you program more blocks to actually display the contents of the list.
					</p>
					<p>
						The simplest way to display a list in your app’s user interface is to use the same method you use for displaying numbers and text: put the list in the Text property of a Label component, as illustrated in Figure 19-17.
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_17.png">
						<figcaption>
							Figure 19-17. Displaying the list to the user within the Text property of the NotesListLabel
						</figcaption>
					</figure>
					<div class="pagebreak">
			  			<span class="pageNumber"> 275 </span> Creating Input Forms and Dynamic Lists
			  		</div>
			  		<figure class="rightfig">
						<img src="/contents/appinventor/images/figure_19_18.png">
						<figcaption>
							Figure 19-18. The defult list display is not very elegant
						</figcaption>
					</figure>
					<div class="next_to_rightfig">
						<p>
							Unfortunately, this simple method of displaying a list isn’t very elegant; it puts the list within paren- theses, with each item separated by a space and not necessarily on the same line. For instance, if the user entered, “Will I ever finish this book?” as the first note, and “I forget what my son looks like!” as the second, the app would display the notes list as shown in Figure 19-18.
						</p>
						<p>
							If you’ve already completed the “Amazon at the Bookstore” app (Chapter 13), this problem will be familiar. In Chapter 20, you’ll learn how to display a list in a more sophisticated fashion.
						</p>
					</div>
				</section><!--  Displaying a List dn9 -->
				<section class="subsection clear" data-number="9" data-name="Removing an Item from a List">
					<h4>Removing an Item from a List</h4>
					<p>
						<span class="first_sentence">You can remove an item from a list with the <span class="program_block">remove list item</span> block, shown in Figure 19-19.</span>
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_19.png">
						<figcaption>
							Figure 19-19. Removing an item from a list
						</figcaption>
					</figure>
					<p>
						The blocks in Figure 19-19 remove the second item from the list named notes. Generally, however, you won’t want to remove a fixed item (e.g., 2), but instead will allow the user to choose the item to remove.
					</p>
					<p>
						<span class="code">ListPicker</span> is a user interface component that can be used for removing items. <span class="code">ListPicker</span> comes with an associated button. When the button is clicked, the <span class="code">ListPicker</span> displays the items of a list and allows the user to choose one. When the user chooses an item, the app can remove it.
					</p>
					<p>
						<span class="code">ListPicker</span> is easy to program if you understand its two key events, <span class="program_block">BeforePicking</span> and <span class="program_block">AfterPicking</span>, and its two key properties, <span class="code">Elements</span> and <span class="code">Selection</span>, as listed in Table 19-2.
					</p>
					<div class="pagebreak">
			  			<span class="pageNumber"> 276 </span> Chapter 19: Programming Lists of Data
			  		</div>
			  		<table>
			  			<thead>
			  				<tr>
			  					<td>Event</td>
			  					<td>Property</td>
			  				</tr>
			  			</thead>
			  			<tbody>
			  				<tr>
			  					<td><span class="program_block">BeforePicking</span>: Triggered when button is clicked.</td>
			  					<td><span class="code">Elements</span>: The list of choices.</td>
			  				</tr>
			  				<tr>
			  					<td><span class="program_block">AfterPicking</span>: Triggered when user makes a choice.</td>
			  					<td><span class="code">Selection</span>: The user’s choice.</td>
			  				</tr>
			  			</tbody>
			  		</table>
			  		<p>
			  			The <span class="program_block">ListPicker.BeforePicking</span> event is triggered when the user clicks the <span class="">ListPicker’s</span> associated button but before the choices are listed. In the <span class="program_block">ListPicker.BeforePicking</span> event handler, you’ll set the ListPicker.Elements property to a list variable. For the Note Taker app, you’d set <span class="code">Elements</span> to the notes variable that con- tains your list of notes, as shown in Figure 19-20.
			  		</p>
			  		<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_20.png">
						<figcaption>
							Figure 19-20. The Elements property of ListPicker1 is set to the list contained in notes
						</figcaption>
					</figure>
					<p>
						With these blocks, the items of the list notes will appear in the <span class="code">ListPicker</span>. If there were two notes, it would appear as shown in Figure 19-21.
					</p>
					<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_21.png">
						<figcaption>
							Figure 19-21. The list of notes appears in the ListPicker
						</figcaption>
					</figure>
					<p>
						When the user chooses an item in the list, the <span class="program_block">ListPicker.AfterSelection</span> event is triggered. In this event handler, you can access the user’s selection in the <span class="code">ListPicker.Selection</span> property.
					</p>
					<p>
						Recall, however, that the <span class="program_block">remove item from list</span> block expects an index (list posi- tion), not an item. Unfortunately, the <span class="code">Selection</span> property of the <span class="code">ListPicker</span> is the actual data (the note item), not the index, and the <span class="code">ListPicker</span> component doesn’t provide direct access to the index of the list (this will certainly be added in later ver- sions of App Inventor).
					</p>
					<p>
						The workaround is to take advantage of another block in the list drawer, <span class="program_block">position in list</span>. Given some text, this function will return the position of the first match to that text in a list. Using <span class="program_block">position in list</span>, the <span class="program_block">ListPicker1.AfterPicking</span> event handler can remove the selected item, as the blocks in Figure 19-22 show.
					</p>
					<div class="pagebreak">
			  			<span class="pageNumber"> 277 </span> Lists of Lists
			  		</div>
			  		<figure class="centered">
						<img src="/contents/appinventor/images/figure_19_22.png">
						<figcaption>
							Figure 19-22. Using the position in list block to find the index of the item to remove
						</figcaption>
					</figure>
					<p>
						When <span class="program_block">AfterPicking</span> is triggered, <span class="program_block">ListPicker1.Selection</span> contains the text of the user’s choice (e.g., “Will I ever finish this book?”). The goal is to find the index of that selec- tion in the list <span class="code">notes</span> in order to remove it, so <span class="program_block">position in list</span> is called. If the user’s selection was “Will I ever finish this book?”, <span class="program_block">position in list</span> will return 1 because it’s the first item. This number is put into the variable <span class="code">removeIndex</span>, which is then used as the index in the call to <span class="program_block">remove list item</span>.
					</p>
					<p>
						Here’s a question to chew on before reading further: do you think this scheme will work in all cases?
					</p>
					<p>
						The answer is that the scheme works fine <span class="emph">unless</span> there is duplicate data in the list. Say the user has entered, “I’m having a great day” as both his second and tenth notes. If he clicks the remove (<span class="code">ListPicker</span>) button and chooses the tenth item, the second will be removed instead of the tenth. <span class="program_block">position in list</span> only returns the index for the selected item and stops there, so you never find out that the tenth item is the same and should be removed from the list as well. You’d have to include some conditional checks (see Chapter 18) to loop through the list to see if there were any other entries that also matched the selected item, and then remove those as well.
					</p>
				</section> <!-- Removing an Item from a List dn10 -->
			</section> <!-- Creating Input Forms and Dynamic Lists dn6 -->
			<section class="section" data-number="10" data-name="Lists of Lists">
				<h3>Lists of Lists</h3>
				<p>
					<span class="first_sentence">The items of a list can be numbers, text, colors, or Boolean values (true/false).</span> But the items of a list can also be lists. You’ll commonly see such complex data structures. For example, a list of lists could be used to convert the Presidents Quiz from Chapter 8 into a multiple-choice quiz. Let’s look again at the Presidents Quiz’s basic structure, which is a list of questions and a list of answers, as shown in Figure 19-23.
				</p>
				<div class="pagebreak">
		  			<span class="pageNumber"> 278 </span> Chapter 19: Programming Lists of Data
		  		</div>
		  		<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_23.png">
					<figcaption>
						Figure 19-23. A list of questions and a list of answers
					</figcaption>
				</figure>
				<p>
					Each time the user answers a question, the app checks to see if it is correct by com- paring the answer to the current item in the <span class="code">AnswerList</span>.
				</p>
				<p>
					To make the quiz multiple choice, you’d need to keep a list of choices for each answer to each question. The multiple-choice list is represented as a variable list of lists, defined by placing three <span class="program_block">make a list</span> blocks within an outer <span class="program_block">make a list</span> block, as demonstrated in Figure 19-24.
				</p>
				<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_24.png">
					<figcaption>
						Figure 19-24. A list of lists is formed by inserting make a list blocks as items within an outer make a list block
					</figcaption>
				</figure>
				<div class="pagebreak">
		  			<span class="pageNumber"> 279 </span> Lists of Lists
		  		</div>
		  		<p>
		  			Each item in the variable <span class="code">answerChoices</span> is itself a list containing three items. If you select an item from <span class="code">answerChoices</span>, the result is a list. Now that you’ve populated your multiple-choice answers as lists, how would you display that to the user?
		  		</p>
		  		<p>
		  			As with the Note Taker app, you could use a <span class="code">ListPicker</span> to present the choices to the user. If the index were named <span class="code">currentQuestionIndex</span>, the <span class="code">ListPicker.BeforePicking</span> event would appear as shown in Figure 19-25.
		  		</p>
		  		<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_25.png">
					<figcaption>
						Figure 19-25. Using the List Picker to present the list of choices to the user
					</figcaption>
				</figure>
				<p>
					These blocks would take the current sublist of <span class+"code">answerChoices</span> and let the user choose from it. So, if <span class="code">currentQuestionIndex</span> were 1, the <span class="code">ListPicker</span> would show a list like the one in Figure 19-26.
				</p>
				<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_26.png">
					<figcaption>
						Figure 19-26. The answer choices presented to the user for the second question
					</figcaption>
				</figure>
				<p>
					When the user chooses, you check the answer with the blocks shown in Figure 19-27.
				</p>
				<figure class="centered">
					<img src="/contents/appinventor/images/figure_19_27.png">
					<figcaption>
						Figure 19-27. Checking whether the user chose the correct answer
					</figcaption>
				</figure>
				<div class="pagebreak">
		  			<span class="pageNumber"> 280 </span> Chapter 19: Programming Lists of Data
		  		</div>
		  		<p>
		  			In these blocks, the user’s selection from the <span class="code">ListPicker</span> is compared to the correct answer, which is stored in a different list, <span class="code">AnswerList</span> (since <span class="code">answerChoices</span> provides only the choices and does not denote the correct answer).
		  		</p>
			</section> <!-- Lists of Lists dn11 -->
			<section class="section" data-number="11" data-name="Summary">
				<h3>Summary</h3>
				<p>
					Lists are used in almost every app you can think of. Understanding how they work is fundamental to programming. In this chapter, we explored one of the most common programming patterns: using an index variable that begins at the front of the list and is incremented until each list item is processed. If you can understand and customize this pattern, you are indeed a programmer!
				</p>
				<p>
					We then covered some of the other mechanisms for list manipulation, including typi- cal forms for letting the user add and remove items. Such programming requires yet another level of abstraction, as you have to envision the data—after all, your lists are empty until the user puts something in them. If you can understand this, you might even think of quitting your day job!
				</p>
				<p>
					We concluded the chapter by introducing a complex data structure, a list of lists. This is definitely a difficult concept, but we explored it using fixed data: the answer choices for a multiple-choice quiz. If you mastered that and the rest of the chapter, your final test is this: create an app that uses of a list of lists, but with dynamic data! One example would be an app that allows people to create their own multiple- choice quizzes, extending even further the MakeQuiz app in Chapter 10. Good luck!
				</p>
				<p>
					While you think about how you’ll tackle that, understand that our exploration of lists isn’t done. In the next chapter, we’ll continue the discussion and focus on list iteration with a twist: applying functions to each item in a list.
				</p>
			</section> <!-- Summary dn 12 -->
		</div>
	</div>	
</body>


